import{wd as ee,we as I,wf as te,pn as G,tA as D,ps as L,wg as K,wh as ce,wi as ge,wj as ie,tH as E,tI as C,pq as S,wk as $,wl as me,py as pe,wm as xe,wn as Ie,wo as ve,wp as Pe}from"./index-DmtZqjSm.js";import{wq as Te,wr as we}from"./index-DmtZqjSm.js";function se(c){return typeof c=="object"&&"length"in c?c:Array.from(c)}function ne(c){this._context=c}ne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(c,e){switch(c=+c,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(c,e):this._context.moveTo(c,e);break;case 1:this._point=2;default:this._context.lineTo(c,e);break}}};function le(c){return new ne(c)}function ae(c){return c[0]}function re(c){return c[1]}function oe(c,e){var t=I(!0),i=null,n=le,u=null,f=ee(r);c=typeof c=="function"?c:c===void 0?ae:I(c),e=typeof e=="function"?e:e===void 0?re:I(e);function r(h){var l,a=(h=se(h)).length,s,o=!1,d;for(i==null&&(u=n(d=f())),l=0;l<=a;++l)!(l<a&&t(s=h[l],l,h))===o&&((o=!o)?u.lineStart():u.lineEnd()),o&&u.point(+c(s,l,h),+e(s,l,h));if(d)return u=null,d+""||null}return r.x=function(h){return arguments.length?(c=typeof h=="function"?h:I(+h),r):c},r.y=function(h){return arguments.length?(e=typeof h=="function"?h:I(+h),r):e},r.defined=function(h){return arguments.length?(t=typeof h=="function"?h:I(!!h),r):t},r.curve=function(h){return arguments.length?(n=h,i!=null&&(u=n(i)),r):n},r.context=function(h){return arguments.length?(h==null?i=u=null:u=n(i=h),r):i},r}function be(c,e,t){var i=null,n=I(!0),u=null,f=le,r=null,h=ee(l);c=typeof c=="function"?c:c===void 0?ae:I(+c),e=typeof e=="function"?e:e===void 0?I(0):I(+e),t=typeof t=="function"?t:t===void 0?re:I(+t);function l(s){var o,d,g,v=(s=se(s)).length,m,b=!1,x,_=new Array(v),k=new Array(v);for(u==null&&(r=f(x=h())),o=0;o<=v;++o){if(!(o<v&&n(m=s[o],o,s))===b)if(b=!b)d=o,r.areaStart(),r.lineStart();else{for(r.lineEnd(),r.lineStart(),g=o-1;g>=d;--g)r.point(_[g],k[g]);r.lineEnd(),r.areaEnd()}b&&(_[o]=+c(m,o,s),k[o]=+e(m,o,s),r.point(i?+i(m,o,s):_[o],t?+t(m,o,s):k[o]))}if(x)return r=null,x+""||null}function a(){return oe().defined(n).curve(f).context(u)}return l.x=function(s){return arguments.length?(c=typeof s=="function"?s:I(+s),i=null,l):c},l.x0=function(s){return arguments.length?(c=typeof s=="function"?s:I(+s),l):c},l.x1=function(s){return arguments.length?(i=s==null?null:typeof s=="function"?s:I(+s),l):i},l.y=function(s){return arguments.length?(e=typeof s=="function"?s:I(+s),t=null,l):e},l.y0=function(s){return arguments.length?(e=typeof s=="function"?s:I(+s),l):e},l.y1=function(s){return arguments.length?(t=s==null?null:typeof s=="function"?s:I(+s),l):t},l.lineX0=l.lineY0=function(){return a().x(c).y(e)},l.lineY1=function(){return a().x(c).y(t)},l.lineX1=function(){return a().x(i).y(e)},l.defined=function(s){return arguments.length?(n=typeof s=="function"?s:I(!!s),l):n},l.curve=function(s){return arguments.length?(f=s,u!=null&&(r=f(u)),l):f},l.context=function(s){return arguments.length?(s==null?u=r=null:r=f(u=s),l):u},l}class O extends te{constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_itemMap",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=G(this._settings.themeTags,["axis"]),this.fields.push("category","id","cellSize"),this.setPrivateRaw("name","category"),this.addTag("category"),super._afterNew()}_afterDataChange(){super._afterDataChange();const e=this.dataItems.length;e>0&&this.setPrivateRaw("maxZoomFactor",e),this.setPrivateRaw("startIndex",Math.min(this.getPrivate("startIndex",0),e)),this.setPrivateRaw("endIndex",Math.min(this.getPrivate("endIndex",e),1))}_prepareChildren(){super._prepareChildren();const e=this.dataItems.length;let t=0;this._valuesDirty&&(this._itemMap={},D(this.dataItems,f=>{f.setRaw("index",t),this._itemMap[f.get("category")]=f,t++}),this.setPrivateRaw("maxZoomFactor",e));let i=this.get("start",0),n=this.get("end",1),u=this._getIndices(i,n);this.setPrivateRaw("startIndex",u.startIndex),this.setPrivateRaw("endIndex",u.endIndex),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("endIndex")||this.isPrivateDirty("startIndex")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&this.dataItems.length>0&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges())}adjustZoom(){const e=this.dataItems.length;if(e>1){let t=this.get("maxZoomCount",this.dataItems.length),i=this.get("minZoomCount",1),n=0,u=this.getPrivate("startIndex",0),f=this.getPrivate("endIndex",0);const r=this._sAnimation,h=this._eAnimation;let l=this.get("start",0),a=!1;r&&!r.stopped&&(l=Number(r.to),a=!0);let s=this.get("end",1);if(h&&!h.stopped&&(s=Number(h.to),a=!0),a){const o=this._getIndices(l,s);u=o.startIndex,f=o.endIndex}for(let o=u;o<f;o++){const d=this.dataItems[o];n+=d.get("finalCellSize",1)}if(n<=i){let o=0;for(let d=u;d<e;d++){const g=this.dataItems[d];if(o+=g.get("finalCellSize",1),f=d+1,o>=i)break}if(o<i)for(let d=u-1;d>=0;d--){const g=this.dataItems[d];if(o+=g.get("finalCellSize",1),u=d,o>=i)break}this.zoomToIndexes(u,f)}else if(n>=t){let o=n;for(let d=f-1;d>=u;d--){const g=this.dataItems[d];if(o-=g.get("finalCellSize",1),o<=t){f=d+1;break}}this.zoomToIndexes(u,f)}}}_handleRangeChange(){D(this.series,e=>{let t=this.dataItems[this.startIndex()].get("category"),i=this.dataItems[this.endIndex()-1].get("category"),n=e.get("baseAxis"),u=e.get("xAxis"),f=e.get("yAxis");if(u instanceof O&&f instanceof O)e._markDirtyAxes();else if(n===this){let r,h,l=f;if(u===n?(e.get("categoryXField")&&(r="categoryX"),e.get("openCategoryXField")&&(h="openCategoryX")):f===n&&(e.get("categoryYField")&&(r="categoryY"),e.get("openCategoryYField")&&(h="openCategoryY"),l=u),l instanceof ge&&(r||h)){let o=function(m,b,x,_,k,N){let F,Y=b.categoryToIndex(k);for(;!F&&Y>=0&&Y<b.dataItems.length;){let X=b.dataItems[Y].get("category");if(N=="previous")for(let w=m.dataItems.length-1;w>=0;w--){let P=m.dataItems[w];if(x&&P.get(x)===X){F=P;break}if(_&&P.get(_)===X){F=P;break}}else for(let w=0,P=m.dataItems.length;w<P;w++){let T=m.dataItems[w];if(x&&T.get(x)===X){F=T;break}if(_&&T.get(_)===X){F=T;break}}F||(Y+=N==="previous"?-1:1)}return F},a,s;a=o(e,this,r,h,t,"next"),s=o(e,this,r,h,i,"previous");let d=0,g=e.dataItems.length;a&&(d=e.dataItems.indexOf(a)),s&&(g=e.dataItems.indexOf(s)+1),e.setPrivate("startIndex",d),e.setPrivate("endIndex",g);let v=!1;for(let m=d;m<g;m++){const b=e.dataItems[m];if(D(e.__valueXShowFields,x=>{b.get(x)!=null&&(v=!0)}),D(e.__valueYShowFields,x=>{b.get(x)!=null&&(v=!0)}),v)break}e.setPrivate("outOfSelection",!v)}e._markDirtyAxes()}})}_prepareAxisItems(){var e;const t=this.get("renderer"),i=this.dataItems.length;let n=this.startIndex();n>0&&n--;let u=this.endIndex();u<i&&u++;const f=t.get("minorLabelsEnabled"),r=t.get("minorGridEnabled",f);let h=t.axisLength()/Math.max(t.get("minGridDistance"),1),l=Math.max(1,Math.min(i,Math.ceil((u-n)/h)));n=Math.floor(n/l)*l,this._frequency=l;for(let s=0;s<i;s++)this._toggleDataItem(this.dataItems[s],!1);let a=this.dataItems[n].get("index",0);for(let s=n;s<u;s=s+l){let o=this.dataItems[s];this._createAssets(o,[]),this._toggleDataItem(o,!0);let d=l;r&&(d=1),this._prepareDataItem(o,a,d),a++}if(t.get("minorGridEnabled"))for(let s=n;s<u;s++){let o=this.dataItems[s];s%l!=0&&(this._createAssets(o,["minor"],!0),this._toggleDataItem(o,!0),this._prepareDataItem(o,0,1),f||(e=o.get("label"))===null||e===void 0||e.setPrivate("visible",!1))}this._updateGhost()}_prepareDataItem(e,t,i){let n=this.get("renderer"),u=e.get("categoryLocation",0),f=e.get("endCategoryLocation",1),r=e.get("index");L(r)||(r=this.categoryToIndex(e.get("category")));let h=this.indexToPosition(r,u),l=e.get("endCategory"),a;l?(a=this.categoryToIndex(l),L(a)||(a=r)):a=r;let s=this.indexToPosition(a,f),o,d;if(e.get("isRange")){if(o=a,!L(r)){this._toggleDataItem(e,!1);return}}else o=r+this._frequency-1;d=this.indexToPosition(o,f),n.updateLabel(e.get("label"),h,s,i),n.updateGrid(e.get("grid"),h,s),n.updateTick(e.get("tick"),h,s,i),n.updateFill(e.get("axisFill"),h,d),this._processBullet(e),n.updateBullet(e.get("bullet"),h,s);const g=this.get("fillRule");g&&g(e,t)}startIndex(){let e=this.dataItems.length;return Math.min(Math.max(this.getPrivate("startIndex",0),0),e-1)}endIndex(){let e=this.dataItems.length;return Math.max(1,Math.min(this.getPrivate("endIndex",e),e))}baseValue(){}basePosition(){return 0}getX(e){let t=this._itemMap[e];return t?this._settings.renderer.positionToCoordinate(this.indexToPosition(t.get("index",0))):NaN}getY(e){let t=this._itemMap[e];return t?this._settings.renderer.positionToCoordinate(this.indexToPosition(t.get("index",0))):NaN}getDataItemPositionX(e,t,i,n){const u=e.get(t),f=this._itemMap[u];return f?this.indexToPosition(f.get("index",0),i):NaN}getDataItemCoordinateX(e,t,i,n){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,t,i,n))}getDataItemPositionY(e,t,i,n){const u=e.get(t),f=this._itemMap[u];return f?this.indexToPosition(f.get("index",0),i):NaN}getDataItemCoordinateY(e,t,i,n){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,t,i,n))}indexToPosition(e,t,i){let n=this.dataItems.length,u=0;if(n==0||(e>=n&&(e=n-1,t=1),L(t)||(t=.5),!L(e)))return 0;let f=this.get("startLocation",0),r=this.get("endLocation",1);if(!this.get("cellSizeField"))n-=f,n-=1-r,u=(e+t-f)/n;else{let h=i?"finalCellSize":"cellSize";const l=this.dataItems;let a=0;D(this.dataItems,d=>{a+=d.get(h,1)}),a-=f*l[0].get(h,1),a-=(1-r)*l[l.length-1].get(h,1);let s=0;for(let d=0;d<e;d++)s+=l[d].get(h,1);let o=l[e].get(h,1);u=(s+t*o-f*l[0].get(h,1))/a}if(!i){let h=this.dataItems[e];h&&(u+=h.get("deltaPosition",0))}return u}categoryToPosition(e){let t=this._itemMap[e];return t?this.indexToPosition(t.get("index")):NaN}categoryToIndex(e){let t=this._itemMap[e];return t?t.get("index"):NaN}dataItemToPosition(e){return this.indexToPosition(e.get("index"))}roundAxisPosition(e,t){return e+=(.5-t)/this.dataItems.length,this.indexToPosition(this.axisPositionToIndex(e),t)}axisPositionToIndex(e){let t=this.dataItems.length;if(t===0)return 0;if(this.get("cellSizeField")){let i=0,n=[];D(this.dataItems,l=>{const a=l.get("cellSize",1);n.push(a),i+=a});let u=this.get("startLocation",0),f=this.get("endLocation",1);i-=u,i-=1-f;let r=e*i+u,h=0;for(let l=0;l<t;l++){const a=n[l];if(r<h+a)return l;h+=a}return t-1}else return K(Math.floor(e*t),0,t-1)}getTooltipText(e,t){const i=this.dataItems[this.axisPositionToIndex(e)];if(i){const n=i.get("label");if(n)return ce(n,this.get("tooltipText",""))}}_updateTooltipText(e,t){e._setDataItem(this.dataItems[this.axisPositionToIndex(t)]),e.label.text.markDirtyText()}getSeriesItem(e,t){if(this.dataItems.length>0){let i=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),n=this.axisPositionToIndex(t),u=e.dataItems[n],f=this.dataItems[n],r=f.get("category");if(u&&f&&u.get(i)===r)return u;for(let h=0,l=e.dataItems.length;h<l;h++){let a=e.dataItems[h];if(a.get(i)===r)return a}}}_getIndices(e,t){let i=this.dataItems.length,n=0,u=i,f="cellSize";if(this.get("cellSizeField")){let r=0;const h=this.dataItems;if(h.length==0)return{startIndex:0,endIndex:0};D(h,a=>{r+=a.get(f,1)}),r-=this.get("startLocation",0)*h[0].get(f,1),r-=(1-this.get("endLocation",1))*h[h.length-1].get(f,1);let l=0;for(let a=0;a<i;a++)if(l+=this.dataItems[a].get(f,1),Math.round(l)>Math.round(e*r)){n=a;break}for(let a=n+1;a<i;a++)if(l+=this.dataItems[a].get(f,1),Math.round(l)>=Math.round(t*r)){u=a+1;break}n=Math.max(n,0),u=Math.min(u,i)}else n=Math.max(Math.round(this.get("start",0)*i),0),u=Math.min(Math.round(this.get("end",1)*i),i);return{startIndex:n,endIndex:u}}zoomToIndexes(e,t,i){let n=this.dataItems.length;this.get("cellSizeField")?(e=Math.min(Math.max(e,0),n),t=Math.max(Math.min(t,n),1),this.setPrivateRaw("startIndex",e),this.setPrivateRaw("endIndex",t),this.zoom(this.indexToPosition(e,0,!0),this.indexToPosition(t,0,!0),i)):this.zoom(e/n,t/n,i)}zoomToCategories(e,t,i){this.zoomToIndexes(this.categoryToIndex(e),this.categoryToIndex(t)+1,i)}getCellWidthPosition(){return this._frequency/this.dataItems.length/(this.get("end",1)-this.get("start",0))}nextPosition(e){e==null&&(e=1),this.get("renderer").getPrivate("letter")=="Y"&&(e*=-1);const t=this.getPrivate("tooltipPosition",0),i=K(this.axisPositionToIndex(t)+e,0,this.dataItems.length-1);return this.toGlobalPosition(this.indexToPosition(i))}}Object.defineProperty(O,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CategoryAxis"});Object.defineProperty(O,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:te.classNames.concat([O.className])});class Z extends ie{constructor(){super(...arguments),Object.defineProperty(this,"_endIndex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeGenerator",{enumerable:!0,configurable:!0,writable:!0,value:oe()}),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:be()}),Object.defineProperty(this,"_legendStroke",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_legendFill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"strokes",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new E(C.new({}),()=>S._new(this._root,{themeTags:G(this.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template])))}),Object.defineProperty(this,"fills",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new E(C.new({}),()=>S._new(this._root,{themeTags:G(this.strokes.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template])))}),Object.defineProperty(this,"_fillTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_previousPoint",{enumerable:!0,configurable:!0,writable:!0,value:[0,0,0,0]}),Object.defineProperty(this,"_dindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_sindex",{enumerable:!0,configurable:!0,writable:!0,value:0})}_afterNew(){this._fillGenerator.y0(function(e){return e[3]}),this._fillGenerator.x0(function(e){return e[2]}),this._fillGenerator.y1(function(e){return e[1]}),this._fillGenerator.x1(function(e){return e[0]}),super._afterNew()}makeStroke(e){const t=this.mainContainer.children.push(e.make());return e.push(t),t}makeFill(e){const t=this.mainContainer.children.push(e.make());return e.push(t),t}_updateChildren(){this._strokeTemplate=void 0,this._fillTemplate=void 0;let e=this.get("xAxis"),t=this.get("yAxis");if(this.isDirty("stroke")){const i=this.get("stroke");this.strokes.template.set("stroke",i);const n=this._legendStroke;n&&n.states.lookup("default").set("stroke",i)}if(this.isDirty("fill")){const i=this.get("fill");this.fills.template.set("fill",i);const n=this._legendFill;n&&n.states.lookup("default").set("fill",i)}if(this.isDirty("fillPattern")){const i=this.get("fillPattern");this.fills.template.set("fillPattern",i);const n=this._legendFill;n&&n.states.lookup("default").set("fillPattern",i)}if(this.isDirty("curveFactory")){const i=this.get("curveFactory");i&&(this._strokeGenerator.curve(i),this._fillGenerator.curve(i))}if(e.inited&&t.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty||this.isDirty("connect")||this.isDirty("curveFactory")){this.fills.each(a=>{a.setPrivate("visible",!1)}),this.strokes.each(a=>{a.setPrivate("visible",!1)}),this.axisRanges.each(a=>{let s=a.fills;s&&s.each(d=>{d.setPrivate("visible",!1)});let o=a.strokes;o&&o.each(d=>{d.setPrivate("visible",!1)})});let i=this.startIndex(),n=this.strokes.template.get("templateField"),u=this.fills.template.get("templateField"),f=!0,r=!0;n&&(f=!1),u&&(r=!1);for(let a=i-1;a>=0;a--){let s=this.dataItems[a],o=!0,d=s.dataContext;if(n&&d[n]&&(f=!0),u&&d[u]&&(r=!0),D(this._valueFields,g=>{L(s.get(g))||(o=!1)}),o&&f&&r){i=a;break}}let h=this.dataItems.length,l=this.endIndex();if(l<h){l++;for(let a=l;a<h;a++){let s=this.dataItems[a],o=!0;if(D(this._valueFields,d=>{L(s.get(d))||(o=!1)}),o){l=a+1;break}}}if(i>0&&i--,this._endIndex=l,this._clearGraphics(),this._sindex=0,this._dindex=i,this.dataItems.length==1)this._startSegment(0);else for(;this._dindex<l-1;)this._startSegment(this._dindex),this._sindex++}}else this._skipped=!0;super._updateChildren()}_clearGraphics(){this.strokes.clear(),this.fills.clear(),this.axisRanges.each(e=>{e.fills.clear(),e.strokes.clear()})}_startSegment(e){let t=this._endIndex,i=t;const n=this.get("autoGapCount"),u=this.get("connect"),f=this.makeFill(this.fills),r=this._fillTemplate,h=this.fills.template;r&&r!=h&&(f.template=r),f.setPrivate("visible",!0);const l=this.makeStroke(this.strokes),a=this._strokeTemplate;a&&a!=this.strokes.template&&(l.template=a),l.setPrivate("visible",!0);let s=this.get("xAxis"),o=this.get("yAxis"),d=this.get("baseAxis"),g=this.get("vcx",1),v=this.get("vcy",1),m=this._xField,b=this._yField,x=this._xOpenField,_=this._yOpenField;const k=this.get("openValueXField"),N=this.get("openValueYField");k||(x=this._xField),N||(_=this._yField);const F=this.get("stacked"),Y=s.basePosition(),X=o.basePosition();let w;d===o?w=this._yField:w=this._xField;const P=[];let T=[];P.push(T);const H=this.strokes.template.get("templateField"),B=this.fills.template.get("templateField");let W=this.get("locationX",.5),J=this.get("locationY",.5),he=this.get("openLocationX",W),ue=this.get("openLocationY",J);const fe=this.get("minDistance",0);let y,Q=this.fills.template.get("visible");this.axisRanges.length>0&&(Q=!0);let U=!1;(F||k||N)&&(U=!0);const V={points:T,segments:P,stacked:F,getOpen:U,basePosX:Y,basePosY:X,fillVisible:Q,xField:m,yField:b,xOpenField:x,yOpenField:_,vcx:g,vcy:v,baseAxis:d,xAxis:s,yAxis:o,locationX:W,locationY:J,openLocationX:he,openLocationY:ue,minDistance:fe};let j=this._strokeTemplate,R=this._fillTemplate;for(y=e;y<i;y++){this._dindex=y;const A=this._dataItems[y];let M=A.get(m),q=A.get(b);if(M==null||q==null?u||(T=[],P.push(T),V.points=T):this._getPoints(A,V),H){let p=A.dataContext[H];if(p)if(p instanceof C||(p=C.new(p)),this._strokeTemplate=p,y>e){i=y;break}else j=p,l.template=p}if(B){let p=A.dataContext[B];if(p)if(p instanceof C||(p=C.new(p)),this._fillTemplate=p,y>e){i=y;break}else R=p,f.template=p}if(!u){let p=this.dataItems[y+1];p&&d.shouldGap(A,p,n,w)&&(T=[],P.push(T),V.points=T)}}f.setRaw("userData",[e,y]),l.setRaw("userData",[e,y]),y===t&&this._endLine(T,P[0][0]),l&&this._drawStroke(l,P),f&&this._drawFill(f,P),this.axisRanges.each(A=>{const M=A.container,q=A.fills,p=this.makeFill(q);M&&M.children.push(p),p.setPrivate("visible",!0),this._drawFill(p,P);const de=A.strokes,z=this.makeStroke(de);M&&M.children.push(z),j&&j!=this.strokes.template&&(z.template=j),R&&R!=this.fills.template&&(p.template=R),z.setPrivate("visible",!0),this._drawStroke(z,P),p.setRaw("userData",[e,y]),z.setRaw("userData",[e,y])})}_getPoints(e,t){let i=t.points,n=e.get("locationX",t.locationX),u=e.get("locationY",t.locationY);const f=this.get("exactLocationX",!1),r=this.get("exactLocationY",!1);let h=t.xAxis.getDataItemPositionX(e,t.xField,n,t.vcx,f),l=t.yAxis.getDataItemPositionY(e,t.yField,u,t.vcy,r);if(this._shouldInclude(h)){const a=this.getPoint(h,l),s=[a.x,a.y];if(a.x+=this._x,a.y+=this._y,e.set("point",a),t.fillVisible){let o=h,d=l;if(t.baseAxis===t.xAxis?d=t.basePosY:t.baseAxis===t.yAxis&&(o=t.basePosX),t.getOpen){let v=e.get(t.xOpenField),m=e.get(t.yOpenField);if(v!=null&&m!=null){let b=e.get("openLocationX",t.openLocationX),x=e.get("openLocationY",t.openLocationY);if(t.stacked){let _=e.get("stackToItemX"),k=e.get("stackToItemY");_?(o=t.xAxis.getDataItemPositionX(_,t.xField,b,_.component.get("vcx"),f),$(o)&&(o=t.basePosX)):t.yAxis===t.baseAxis?o=t.basePosX:o=t.xAxis.getDataItemPositionX(e,t.xOpenField,b,t.vcx,f),k?(d=t.yAxis.getDataItemPositionY(k,t.yField,x,k.component.get("vcy"),r),$(d)&&(d=t.basePosY)):t.xAxis===t.baseAxis?d=t.basePosY:d=t.yAxis.getDataItemPositionY(e,t.yOpenField,x,t.vcy,r)}else o=t.xAxis.getDataItemPositionX(e,t.xOpenField,b,t.vcx,f),d=t.yAxis.getDataItemPositionY(e,t.yOpenField,x,t.vcy,r)}}let g=this.getPoint(o,d);s[2]=g.x,s[3]=g.y}if(t.minDistance>0){const o=s[0],d=s[1],g=s[2],v=s[3],m=this._previousPoint,b=m[0],x=m[1],_=m[2],k=m[3];(Math.hypot(o-b,d-x)>t.minDistance||g&&v&&Math.hypot(g-_,v-k)>t.minDistance)&&(i.push(s),this._previousPoint=s)}else i.push(s)}}_endLine(e,t){}_drawStroke(e,t){e.get("visible")&&!e.get("forceHidden")&&e.set("draw",i=>{D(t,n=>{this._strokeGenerator.context(i),this._strokeGenerator(n)})})}_drawFill(e,t){e.get("visible")&&!e.get("forceHidden")&&e.set("draw",i=>{D(t,n=>{this._fillGenerator.context(i),this._fillGenerator(n)})})}_processAxisRange(e){super._processAxisRange(e),e.fills=new E(C.new({}),()=>S._new(this._root,{themeTags:G(e.fills.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template,e.fills.template])),e.strokes=new E(C.new({}),()=>S._new(this._root,{themeTags:G(e.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template,e.strokes.template]))}createLegendMarker(e){const t=this.get("legendDataItem");if(t){const i=t.get("marker"),n=t.get("markerRectangle");n&&n.setPrivate("visible",!1),i.set("background",me.new(i._root,{fillOpacity:0,fill:pe(0)}));const u=i.children.push(S._new(i._root,{themeTags:["line","series","legend","marker","stroke"],interactive:!1},[this.strokes.template]));this._legendStroke=u;const f=i.children.push(S._new(i._root,{themeTags:["line","series","legend","marker","fill"]},[this.fills.template]));this._legendFill=f;const r=this._root.interfaceColors.get("disabled");if(u.states.create("disabled",{fill:r,stroke:r}),f.states.create("disabled",{fill:r,stroke:r}),this.bullets.length>0){const h=this.bullets.getIndex(0);if(h){const l=h(i._root,this,new xe(this,{legend:!0},{}));if(l){const a=l.get("sprite");a instanceof S&&a.states.create("disabled",{fill:r,stroke:r}),a&&(a.setAll({tooltipText:void 0,tooltipHTML:void 0,focusable:void 0,focusableGroup:void 0,ariaLabel:void 0}),i.children.push(a),a.setAll({x:i.width()/2,y:i.height()/2}),i.events.on("boundschanged",()=>{a.setAll({x:i.width()/2,y:i.height()/2})}))}}}}}}Object.defineProperty(Z,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LineSeries"});Object.defineProperty(Z,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ie.classNames.concat([Z.className])});export{ve as AxisRendererXAm5,Pe as AxisRendererYAm5,O as CategoryAxisAm5,Ie as ColumnSeriesAm5,Z as LineSeriesAm5,ge as ValueAxisAm5,Te as XYChartAm5,we as XYCursorAm5};
